#Plot the control against the treatment
fb_c <- filter(fb3, Group == 10) %>%
rename(Total.Cover_C = Total.Cover,
Bulrush_C = bulrush) %>%
dplyr::select(Block, Total.Cover_C, Bulrush_C)
fb_t <- filter(fb3, Group != 10)
test <- left_join(fb_t, fb_c, by = c("Block"))
ggplot(test, aes(x = Total.Cover_C, y = Total.Cover, color = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1)
ggplot(test, aes(x = Total.Cover_C, y = Total.Cover, color = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_smooth()
ggplot(test, aes(x = Total.Cover_C, y = Total.Cover, color = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_line()
ggplot(test, aes(x = Total.Cover_C, y = Total.Cover, color = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_line(group = gd)
ggplot(test, aes(x = Total.Cover_C, y = Total.Cover, color = gd, group = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_line()
ggplot(test, aes(x = Total.Cover_C, y = Total.Cover, color = gd, group = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_line() +
facet_wrap(~gd)
ggplot(test, aes(x = Bulrush_C, y = Total.Cover, color = gd, group = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_line() +
facet_wrap(~gd)
ggplot(test, aes(x = Bulrush_C, y = bulrush, color = gd, group = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_line() +
facet_wrap(~gd)
ggplot(test, aes(x = Bulrush_C, y = bulrush, color = gd, group = gd)) +
geom_point() +
geom_abline(intercept = 0, slope = 1) +
geom_line() +
geom_smooth(method = "lm") +
facet_wrap(~gd)
citation()
version$version.string
citation(glmmTMB)
citation("glmmTMB")
packageVersion("glmmTMB")
packageVersion("DHARMa")
citation("glmmTMB")
citation("DHARMa")
packageVersion("cars")
packageVersion("car")
citation("car")
packageVersion("emmeans")
citation("emmeans")
packageVersion("multcomp")
citation("multcomp")
packageVersion("quantreg")
citation("quantreg")
packageVersion("quantreg")
packageVersion("bbmle")
citation("bbmle")
is.na(fb$Total.Cover)
#all NAs should actually be 0s
is.na(fb$Total.Cover) <- 0
is.na(fb$Total.Cover)
is.na(fb$PHAU)
is.na(fb$PHAU) <- 0
is.na(fb$PHAU)
View(fb)
is.na(fb$Total.Cover)
is.na(fb$PHAU)
is.na(fb$PHAU) <- 0
is.na(fb$PHAU)
fb$PHAU[is.na(fb$PHAU)]
is.na(fb$PHAU)
fb$PHAU[is.na(fb$PHAU)] <- 0
is.na(fb$PHAU)
fb$Cheno[is.na(fb$Cheno)] <- 0
fb$Typha[is.na(fb$Typha)] <- 0
fb$BOMA[is.na(fb$BOMA)] <- 0
fb$DISP[is.na(fb$DISP)] <- 0
fb$EUMA[is.na(fb$EUMA)] <- 0
fb$SYCI[is.na(fb$SYCI)] <- 0
fb$LEFA[is.na(fb$LEFA)] <- 0
fb$SCAC[is.na(fb$SCAC)] <- 0
fb$BICE[is.na(fb$BICE)] <- 0
fb$BIFR[is.na(fb$BIFR)] <- 0
fb$EUOC[is.na(fb$EUOC)] <- 0
fb$MUAS[is.na(fb$MUAS)] <- 0
fb$SCAM[is.na(fb$SCAM)] <- 0
fb$RUMA[is.na(fb$RUMA)] <- 0
fb$RUST[is.na(fb$RUST)] <- 0
fb$Unk_Forb[is.na(fb$Unk_Forb)] <- 0
fb$Unk_Grass[is.na(fb$Unk_Grass)] <- 0
fb$Unk_Bulrush[is.na(fb$Unk_Bulrush)] <- 0
fb$SARU[is.na(fb$SARU)] <- 0
fb$Tamarisk[is.na(fb$Tamarisk)] <- 0
source("~/Documents/USUClasses/Thesis_Code/Field22/Code/Data_Cleaning.R", echo=TRUE)
ul$Total.Cover[is.na(ul$Total.Cover)]
ul$Total.Cover[is.na(ul$Total.Cover)] <- 0
is.na(ul$Total.Cover)
is.na(ul$Unk_Forb)
ul$Unk_Forb[is.na(ul$Unk_Forb)] <- 0
is.na(ul$Unk_Forb)
ul$PHAU[is.na(ul$PHAU)] <- 0
ul$Unk_Sedge[is.na(ul$Unk_Sedge)] <- 0
ul$BOMA[is.na(ul$BOMA)] <- 0
ul$RUMA[is.na(ul$RUMA)] <- 0
ul$BASC[is.na(ul$BASC)] <- 0
ul$CYER[is.na(ul$CYER)] <- 0
ul$LASE[is.na(ul$LASE)] <- 0
ul$Cheno[is.na(ul$Cheno)] <- 0
ul$SCAC[is.na(ul$SCAC)] <- 0
ul$SCPU[is.na(ul$SCPU)] <- 0
ul$SCAM[is.na(ul$SCAM)] <- 0
ul$DISP[is.na(ul$DISP)] <- 0
ul$RACY[is.na(ul$RACY)] <- 0
ul$ASIN[is.na(ul$ASIN)] <- 0
ul$Unk_Grass[is.na(ul$Unk_Grass)] <- 0
ul$CYDA[is.na(ul$CYDA)] <- 0
ul$POFR[is.na(ul$POFR)] <- 0
ul$SAAM[is.na(ul$SAAM)] <- 0
ul$Unk_Bulrush[is.na(ul$Unk_Bulrush)] <- 0
ul$BY[is.na(ul$BY)] <- 0
ul$SYCI[is.na(ul$SYCI)] <- 0
ul$EUOC[is.na(ul$EUOC)] <- 0
ul$TYPHA[is.na(ul$TYPHA)] <- 0
ul$Tamarisk[is.na(ul$Tamarisk)] <- 0
ul$POPE[is.na(ul$POPE)] <- 0
glimpse(ul)
ul$ALPR[is.na(ul$ALPR)] <- 0
ul$BICE[is.na(ul$BICE)] <- 0
source("~/Documents/USUClasses/Thesis_Code/Field22/Code/Data_Cleaning.R", echo=TRUE)
#Import####
load("clean_dfs.RData")
library(vegan)
library(tidyverse)
#Import####
load("clean_dfs.RData")
library(vegan)
library(tidyverse)
#make wide
View(fb)
#only want the final cover
final.dat <- fb %>%
filter(Date == "2023-03-01")
#only want the final cover
final.dat <- fb %>%
filter(Date == "2022-09-16")
#make a new column with the tub
final.dat2 <- final.dat %>%
unite(col = "Tub",
c('Plot', 'Block'))
View(final.dat2)
#make all the NAs into 0s
final.dat2[is.na(final.dat2)] <- 0
#make all percentages
final.dat2 <- mutate_if(final.dat2, is.numeric, ~.*100)
#name the rows
final.dat3 <- final.dat2
row.names(final.dat3) <- final.dat3$"Tub"
View(final.dat3)
glimpse(final.dat3)
#Now try the diversity calculation
final.dat3 <- select(final.dat3, 6:26)
div <- diversity(final.dat3, "shannon")
div
View(final.dat)
final.dat$shannon <- div
#Plot ####
final.dat %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot() +
facet_wrap(~Phrag_Presence) +
ylab("Shannon Diversity Index")
#Plot ####
final.dat %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()
#Plot ####
final.dat %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()
#Plot ####
final.dat %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("Shannon Diversity Index")
#Plot ####
final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("Shannon Diversity Index")
#Plot ####
final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("Shannon Diversity Index") +
ggtitle("Farmington Bay")
library(patchwork)
#Plot ####
a <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("Shannon Diversity Index") +
ggtitle("Farmington Bay")
# Biomass ####
#make wide
View(ul)
#only want the final cover
final.dat <- fb %>%
filter(Date == "2022-09-16")
#make a new column with the tub
final.dat2 <- final.dat %>%
unite(col = "Tub",
c('Plot', 'Block'))
#make all the NAs into 0s
final.dat2[is.na(final.dat2)] <- 0
#make all percentages
final.dat2 <- mutate_if(final.dat2, is.numeric, ~.*100)
#name the rows
final.dat3 <- final.dat2
row.names(final.dat3) <- final.dat3$"Tub"
glimpse(final.dat3)
#Now try the diversity calculation
final.dat3 <- select(final.dat3, 6:26)
# Utah Lake ####
View(ul)
#only want the final cover
final.dat <- ul %>%
filter(Date == "2022-09-16")
#make a new column with the tub
final.dat2 <- final.dat %>%
unite(col = "Tub",
c('Plot', 'Block'))
#make all the NAs into 0s
final.dat2[is.na(final.dat2)] <- 0
#make all percentages
final.dat2 <- mutate_if(final.dat2, is.numeric, ~.*100)
#name the rows
final.dat3 <- final.dat2
row.names(final.dat3) <- final.dat3$"Tub"
Glimpse(final.dat3)
glimpse(final.dat3)
#Now try the diversity calculation
final.dat3 <- select(final.dat3, 6:34)
#Now try the diversity calculation
final.dat3 <- select(final.dat3, 6:33)
#name the rows
final.dat3 <- final.dat2
row.names(final.dat3) <- final.dat3$"Tub"
#Now try the diversity calculation
final.dat3 <- select(final.dat3, 6:33)
div <- diversity(final.dat3, "shannon")
div
final.dat$shannon <- div
#Plot ####
final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("Shannon Diversity Index") +
ggtitle("Utah Lake")
#Plot ####
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("Shannon Diversity Index") +
ggtitle("Utah Lake")
glimpse(final.dat)
#change the names of the groups
final.dat$Group <- as.character(final.dat$Group)
glimpse(final.dat)
final.dat$Group[final.dat$Group == "1"] <- "Perennial Forb"
final.dat$Group[final.dat$Group == "2"] <- "Rush"
final.dat$Group[final.dat$Group == "3"] <- "Grass"
final.dat$Group[final.dat$Group == "4"] <- "Bulrush"
final.dat$Group[final.dat$Group == "5"] <- "Annual Forb"
final.dat$Group <- as.factor(final.dat$Group)
glimpse(final.dat)
source("~/Documents/USUClasses/Thesis_Code/Field22/shannon_diversity.R", echo=TRUE)
a
b
# Plot together ####
a <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("Shannon Diversity Index") +
ggtitle("Farmington Bay") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9))
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9))
a + b
# Plot together ####
a <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot(show.legend = FALSE)+
ylab("Shannon Diversity Index") +
ggtitle("Farmington Bay") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10))
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = element_markdown(size = 10))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = element_markdown(size = 5))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(1, 'cm'))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.5, 'cm'))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.25, 'cm'))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.35, 'cm'))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.35, 'cm'),
legend.title = element_markdown(size = 10))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.35, 'cm'),
legend.title = eggtext::lement_markdown(size = 10))
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.35, 'cm'),
legend.title = ggtext::lement_markdown(size = 10))
a + b
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.35, 'cm'),
legend.title = ggtext::element_markdown(size = 10))
a + b
ggsave("diversity_indices.jpeg")
#Import####
load("clean_dfs.RData")
library(vegan)
library(tidyverse)
library(patchwork)
#Farmington Bay ####
View(fb)
#only want the final cover
final.dat <- fb %>%
filter(Date == "2022-09-16")
#make a new column with the tub
final.dat2 <- final.dat %>%
unite(col = "Tub",
c('Plot', 'Block'))
#make all the NAs into 0s
final.dat2[is.na(final.dat2)] <- 0
#make all percentages
final.dat2 <- mutate_if(final.dat2, is.numeric, ~.*100)
#name the rows
final.dat3 <- final.dat2
row.names(final.dat3) <- final.dat3$"Tub"
#Now try the diversity calculation
final.dat3 <- select(final.dat3, 6:26)
div <- diversity(final.dat3, "shannon")
final.dat$shannon <- div
#change the names of the groups
final.dat$Group <- as.character(final.dat$Group)
final.dat$Group[final.dat$Group == "1"] <- "Perennial Forb"
final.dat$Group[final.dat$Group == "2"] <- "Rush"
final.dat$Group[final.dat$Group == "3"] <- "Grass"
final.dat$Group[final.dat$Group == "4"] <- "Bulrush"
final.dat$Group[final.dat$Group == "5"] <- "Annual Forb"
final.dat$Group <- as.factor(final.dat$Group)
# Plot together ####
a <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot(show.legend = FALSE)+
ylab("Shannon Diversity Index") +
ggtitle("Farmington Bay") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10))
View(ul)
#only want the final cover
final.dat <- ul %>%
filter(Date == "2022-09-16")
#make a new column with the tub
final.dat2 <- final.dat %>%
unite(col = "Tub",
c('Plot', 'Block'))
#make all the NAs into 0s
final.dat2[is.na(final.dat2)] <- 0
#make all percentages
final.dat2 <- mutate_if(final.dat2, is.numeric, ~.*100)
#name the rows
final.dat3 <- final.dat2
row.names(final.dat3) <- final.dat3$"Tub"
#Now try the diversity calculation
final.dat3 <- select(final.dat3, 6:33)
div <- diversity(final.dat3, "shannon")
final.dat$shannon <- div
#change the names of the groups
final.dat$Group <- as.character(final.dat$Group)
final.dat$Group[final.dat$Group == "1"] <- "Perennial Forb"
final.dat$Group[final.dat$Group == "2"] <- "Rush"
final.dat$Group[final.dat$Group == "3"] <- "Grass"
final.dat$Group[final.dat$Group == "4"] <- "Bulrush"
final.dat$Group[final.dat$Group == "5"] <- "Annual Forb"
final.dat$Group <- as.factor(final.dat$Group)
b <- final.dat %>%
filter(Group != 10) %>%
ggplot(aes(x = Group, y = shannon, fill = Density)) +
geom_boxplot()+
ylab("") +
ggtitle("Utah Lake") +
theme(axis.text.x = element_text(angle = 45, hjust = 0.9),
plot.title = ggtext::element_markdown(size = 10),
legend.key.size = unit(.35, 'cm'),
legend.title = ggtext::element_markdown(size = 10))
a + b
ggsave("diversity_indices.jpeg")
